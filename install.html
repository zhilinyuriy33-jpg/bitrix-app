// install.html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://api.bitrix24.com/api/v1/"></script>
    <script>
        // Ждем загрузки BX24 API
        setTimeout(function() {
            if (typeof BX24 !== 'undefined') {
                BX24.init(function() {
                    console.log('Installation complete');
                    // ВАЖНО: завершаем установку
                    BX24.installFinish();
                    
                    // Показываем сообщение
                    document.body.innerHTML = `
                        <div style="padding: 40px; text-align: center; color: green;">
                            <h1>✅ Установка завершена!</h1>
                            <p>Приложение "Python Task Processor" установлено.</p>
                            <p>Закройте это окно и откройте любую задачу.</p>
                            <p>Кнопка появится в карточке задачи.</p>
                        </div>
                    `;
                });
            } else {
                // Если BX24 не загрузился, всё равно показываем успех
                document.body.innerHTML = `
                    <div style="padding: 40px; text-align: center; color: green;">
                        <h1>✅ Установка завершена!</h1>
                        <p>Можно закрывать окно.</p>
                    </div>
                `;
            }
        }, 2000);
    </script>
</head>
<body>
    <div style="padding: 40px; text-align: center;">
        <h2>Идет установка приложения...</h2>
        <p>Пожалуйста, подождите 2-3 секунды.</p>
    </div>
</body>
</html>
